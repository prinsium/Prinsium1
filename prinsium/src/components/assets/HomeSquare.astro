<div id="container">
    <div class="square">
      <div class="square">
      <div class="square">
      <div class="square">
      <div class="square">
      <div class="square">
      
        </div>
        </div>
        </div>
        </div>
        </div>
        </div>      
</div>

<script>
    // VanillaTilt Initialization
document.querySelectorAll(".square").forEach(function(element) {
  let max = 10;
  let perspective = 1000;
  let reverse = true;

  element.addEventListener("mousemove", function(event) {
    let tiltX = (event.clientX / window.innerWidth) * max * (reverse ? -1 : 1);
    let tiltY = (event.clientY / window.innerHeight) * max * (reverse ? -1 : 1);
    let tiltTransform = `rotateX(${tiltY}deg) rotateY(${tiltX}deg)`;

    element.style.transform = tiltTransform;
    element.style.perspective = perspective + "px";
  });
});

// Parallax effect
document.querySelector('.square').addEventListener("mousemove", function(e) {
  let _w = window.innerWidth / 2;
  let _h = window.innerHeight / 2;
  let _mouseX = e.clientX;
  let _mouseY = e.clientY;
  let _depth1 = `${0 - (_mouseX - _w) * 0.01}% ${0 - (_mouseY - _h) * 0.01}%`;
  let x = `${_depth1}`;
  console.log(x);

  document.querySelectorAll(".square").forEach(function(el) {
    el.style.translate = x;
  });
});

</script>


<style>
    #container {
  width: 100vw;
  height: 50vh;
  display: flex;
  align-items: center;
  justify-content: center;
}
.square {
  aspect-ratio: 9/1;
  min-width: 3rem;
  border: 2px solid white;
  border-radius: 7px;
  padding: 3rem;
  transform-style: preserve-3d;
  transition: box-shadow 0.6s ease-out;
}

.square:hover .square {
  transform: translateZ(-100px) !important;
}

.square:hover .square, .square:hover {
  box-shadow: inset 0 0 30px 10px gray;
}

</style>